{
  // Disable auto-formatting while Claude Code is editing
  // This prevents race conditions where the IDE formats files
  // between Claude Code's Read and Edit operations

  // Format on save - can be enabled/disabled as needed
  "editor.formatOnSave": true,

  // Delay before auto-save to give Claude Code time to work
  "files.autoSave": "afterDelay",
  "files.autoSaveDelay": 5000,

  // Dart-specific settings
  "[dart]": {
    "editor.formatOnSave": true,
    "editor.formatOnType": false,
    "editor.rulers": [80],
    "editor.selectionHighlight": true,
    "editor.suggest.snippetsPreventQuickSuggestions": false,
    "editor.suggestSelection": "first",
    "editor.tabCompletion": "onlySnippets",
    "editor.wordBasedSuggestions": "off"
  },

  // Reduce file watcher noise
  "files.watcherExclude": {
    "**/.dart_tool/**": true,
    "**/build/**": true
  },

  // Dart/Flutter specific
  "dart.previewFlutterUiGuides": true,
  "dart.lineLength": 120,

  // Prevent concurrent edits
  "files.hotExit": "onExitAndWindowClose"
}
